{% extends 'layout.html' %}
{% load  check_role check_status %}
{% load complain_tags %}
{% block content %}

{% is_provider user_role=request.session.user_role as provider_checked %}
{% is_client user_role=request.session.user_role as client_checked %}
<div class="container">
    <div class="row">
        <div class="col-12">
            <h1 class="page_main_header my-3">Complains.</h1>
            <br>


            <div uk-filter="target: .js-filter">
                <ul class="uk-subnav uk-subnav-pill">
                    <li class="uk-active" uk-filter-control="[data-status='requested']"><a href="#">Unsolved</a></li>
                    <li uk-filter-control="[data-status='canceled']"><a href="#">Solved</a></li>


                </ul>
                <ul class="js-filter uk-child-width-1-1 uk-text-left" uk-grid>
                    <li data-status="requested">
                        <div class="profile_listing_outer mt-3">
                            <div class="row">
                                <div class="col-12">
                                     {% for complain in complains %}
                                    {% if complain.problem_status|is_complain_unsolved %}
                                    <a href="{{complain.get_detail_url}}" class="list-group-item list-group-item-action flex-column align-items-start" >
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1"><b>{{complain.reporter}}</b><b> report againts {{complain.reportee}}</b></h5>
                                            <small>{{complain.date_posted}}</small>
                                        </div>
                                        <p class="mb-1">{{complain.description|truncatechars:30}}</p>

                                    </a>
                                    {% endif %}
                                    {% endfor %}


                                </div>
                            </div>
                        </div>

                    </li>
                    <li data-status="canceled">
                        <div class="profile_listing_outer mt-3">
                            <div class="row">
                                <div class="col-12">
                                    {% for complain in complains %}
                                    {% if complain.problem_status|is_complain_solved %}
                                    <a href="{{complain.get_detail_url}}" class="list-group-item list-group-item-action flex-column align-items-start" >
                                        <div class="d-flex w-100 justify-content-between">
                                            <h5 class="mb-1"><b>{{complain.reporter}}</b><b> report againts {{complain.reportee}}</b></h5>
                                            <small>{{complain.date_posted}}</small>
                                        </div>
                                        <p class="mb-1">{{complain.description|truncatechars:30}}</p>

                                    </a>
                                    {% endif %}
                                    {% endfor %}
                                </div>
                            </div>
                        </div>

                    </li>
                </ul>
            </div>

        </div>
    </div>
</div>
{% endblock content %}